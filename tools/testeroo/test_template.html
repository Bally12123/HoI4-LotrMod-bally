<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="bootstrap.min.css">
	 <script src="bootstrap.bundle.min.js"></script> 
    <title>Image Search</title>
    <style>
        .image-container {
            display: flex;
            flex-wrap: wrap;
			width: 100%;
        }
		
		.image-item {
		  width: 100px; /* Set your desired width */
		  height: 100px; /* Set your desired height */
		  overflow: hidden;
		  position: relative;
		  display: flex;
		  align-items: center;
		  justify-content: center;
		}

		.image-item img {
		  object-fit: cover; /* This will make sure the image covers the div */
		  object-position: center; /* Center the image inside the div */
		  cursor: pointer;
		}

		.tooltip {
		  position: absolute;
		  bottom: 3px;
		  background-color: #333;
		  color: #fff;
		  padding: 8px 12px;
		  border-radius: 4px;
		  opacity: 0;
		  transition: opacity 0.3s ease;
		}

		/* Optional: Add hover effect */
		.image-item:hover {
		  border: 2px solid #007bff; /* Change border color on hover */
		}
		
		body {
			overflow-y: scroll; /* Show vertical scrollbar */
		}


    </style>
</head>

<body>
	<div class = "container">
	
	<section class="header">
      <h1 class="title text-center">HoI4 GFX Search</h1>
    </section>
	
	<nav class="navbar navbar-light bg-light">
	  <form class="form-inline">
		<button type="button" class="btn btn-primary">Focuses</button>
		<button type="button" class="btn btn-outline-primary">Events</button>
		<button type="button" class="btn btn-outline-primary">NewsEvents</button>
		
	  </form>
	</nav>

	<div class="form-outline">
	  <input type="search" id="search-bar" class="form-control" placeholder="Type query" aria-label="Search" />
	</div>
    <!-- <input type="text" id="search-bar" placeholder="Search images..."> -->
    <div class="image-container">
        <!-- IMAGE_INSERT_TOKEN -->
    </div>
	
	</div>

    <script>
        const searchBar = document.getElementById('search-bar');
        const imageItems = document.querySelectorAll('.image-item');

		imageItems.forEach(item => {
		  const tooltip = document.createElement('div');
		  tooltip.classList.add('tooltip');
		  tooltip.textContent = 'copied to clipboard';
		  item.appendChild(tooltip);

		  item.addEventListener('click', () => {
			const imageAlt = item.querySelector('img').getAttribute('alt');
			copyToClipboard(imageAlt);
			tooltip.style.opacity = 1;
			setTimeout(() => {
			  tooltip.style.opacity = 0;
			}, 1500);
		  });
		});

		function copyToClipboard(text) {
		  const textarea = document.createElement('textarea');
		  textarea.value = text;
		  document.body.appendChild(textarea);
		  textarea.select();
		  document.execCommand('copy');
		  document.body.removeChild(textarea);
		}


        searchBar.addEventListener('input', function (event) {
            const searchTerm = event.target.value.toLowerCase();

            // Loop through all image items and toggle visibility based on search filter
            imageItems.forEach(item => {
                const imageAlt = item.querySelector('img').alt.toLowerCase();
                if (imageAlt.includes(searchTerm)) {
                    item.style.display = 'block';
                } else {
                    item.style.display = 'none';
                }
            });
        });
    </script>
</body>

</html>
