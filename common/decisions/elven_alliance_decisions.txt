elven_alliance_decisions_category = {

	vote_in_progress = {
        icon = GFX_decision_generic_naval
		cost = 150

        activation = {
            NOT = { has_global_flag = ea_vote_in_progress }
			NOT = { has_global_flag = ea_assembly_in_recess }
			NOT = { ea_resolution_queue_empty = yes }
        }
		available = {
            always = no
        }
		visible = {
			always = yes
		}

		ai_will_do = {
			factor = 0
		}

		priority = 100

		fire_only_once = no
		is_good = yes
		days_mission_timeout = 30
		selectable_mission = no

		complete_effect = {
			set_global_flag = ea_vote_in_progress
			elven_alliance_clear_votes = yes
		}

		timeout_effect = {
            # Count votes and pass resolution

			clr_global_flag = ea_vote_in_progress

			set_global_flag = ea_assembly_in_recess
			#activate_mission = assembly_in_recess

			elven_alliance_vote_effect = yes
        }

		cancel_trigger = {
            always = no
        }
	}

	assembly_in_recess = {
        icon = GFX_decision_generic_naval
		cost = 150

		activation = {
            has_global_flag = ea_assembly_in_recess
        }
        available = {
            always = no
        }
		visible = {
			always = yes
		}

		ai_will_do = {
			factor = 0
		}

		priority = 100

		fire_only_once = no

		is_good = yes
		days_mission_timeout = 10
		selectable_mission = no

		timeout_effect = {
			clr_global_flag = ea_assembly_in_recess
        }

		cancel_trigger = {
            always = no
        }
	}


	# Propose resolution: trade
	propose_ea_resolution_trade = {
        icon = GFX_decision_generic_naval
		cost = elven_alliance_proposal_cost?25

        available = {
            NOT = { has_global_flag = ea_assembly_in_recess }
        }
		visible = {
			NOT = { has_global_flag = ea_vote_in_progress }
			ea_industry_trade = yes
			ea_trade_can_be_passed = yes
		}

		ai_will_do = {
			factor = 0
		}

		fire_only_once = no

		complete_effect = {
			propose_ea_resolution_trade = yes
		}
	}



	# Propose resolution: industry
	propose_ea_resolution_industry = {
        icon = GFX_decision_generic_naval
		cost = elven_alliance_proposal_cost?25

        available = {
            NOT = { has_global_flag = ea_assembly_in_recess }
        }
		visible = {
			NOT = { has_global_flag = ea_vote_in_progress }
			ea_industry_industry = yes
			ea_industry_can_be_passed = yes
		}

		ai_will_do = {
			factor = 0
		}

		fire_only_once = no

		complete_effect = {
			propose_ea_resolution_industry = yes
		}
	}



	# Propose resolution: peace
	propose_ea_resolution_peace = {
        icon = GFX_decision_generic_naval
		cost = elven_alliance_proposal_cost?25

        available = {
            NOT = { has_global_flag = ea_assembly_in_recess }
        }
		visible = {
			NOT = { has_global_flag = ea_vote_in_progress }
			ea_industry_peace = yes
			ea_peace_can_be_passed = yes
		}

		ai_will_do = {
			factor = 0
		}

		fire_only_once = no

		complete_effect = {
			propose_ea_resolution_peace = yes
		}
	}



	# Propose resolution: research
	propose_ea_resolution_research = {
        icon = GFX_decision_generic_naval
		cost = elven_alliance_proposal_cost?25

        available = {
            NOT = { has_global_flag = ea_assembly_in_recess }
        }
		visible = {
			NOT = { has_global_flag = ea_vote_in_progress }
			ea_industry_research = yes
			ea_research_can_be_passed = yes
		}

		ai_will_do = {
			factor = 0
		}

		fire_only_once = no

		complete_effect = {
			propose_ea_resolution_research = yes
		}
	}



	# Propose resolution: alliance
	propose_ea_resolution_alliance = {
        icon = GFX_decision_generic_naval
		cost = elven_alliance_proposal_cost?25

        available = {
            NOT = { has_global_flag = ea_assembly_in_recess }
        }
		visible = {
			NOT = { has_global_flag = ea_vote_in_progress }
			ea_industry_alliance = yes
			ea_alliance_can_be_passed = yes
		}

		ai_will_do = {
			factor = 0
		}

		fire_only_once = no

		complete_effect = {
			propose_ea_resolution_alliance = yes
		}
	}



	# Propose resolution: hegemony
	propose_ea_resolution_hegemony = {
        icon = GFX_decision_generic_naval
		cost = elven_alliance_proposal_cost?25

        available = {
            NOT = { has_global_flag = ea_assembly_in_recess }
        }
		visible = {
			NOT = { has_global_flag = ea_vote_in_progress }
			ea_industry_hegemony = yes
			ea_hegemony_can_be_passed = yes
		}

		ai_will_do = {
			factor = 0
		}

		fire_only_once = no

		complete_effect = {
			propose_ea_resolution_hegemony = yes
		}
	}



	# Propose resolution: martial
	propose_ea_resolution_martial = {
        icon = GFX_decision_generic_naval
		cost = elven_alliance_proposal_cost?25

        available = {
            NOT = { has_global_flag = ea_assembly_in_recess }
        }
		visible = {
			NOT = { has_global_flag = ea_vote_in_progress }
			ea_industry_martial = yes
			ea_martial_can_be_passed = yes
		}

		ai_will_do = {
			factor = 0
		}

		fire_only_once = no

		complete_effect = {
			propose_ea_resolution_martial = yes
		}
	}



	# Propose resolution: union
	propose_ea_resolution_union = {
        icon = GFX_decision_generic_naval
		cost = elven_alliance_proposal_cost?25

        available = {
            NOT = { has_global_flag = ea_assembly_in_recess }
        }
		visible = {
			NOT = { has_global_flag = ea_vote_in_progress }
			ea_industry_union = yes
			ea_union_can_be_passed = yes
		}

		ai_will_do = {
			factor = 0
		}

		fire_only_once = no

		complete_effect = {
			propose_ea_resolution_union = yes
		}
	}



	# Propose resolution: expansion
	propose_ea_resolution_expansion = {
        icon = GFX_decision_generic_naval
		cost = elven_alliance_proposal_cost?25

        available = {
            NOT = { has_global_flag = ea_assembly_in_recess }
        }
		visible = {
			NOT = { has_global_flag = ea_vote_in_progress }
			ea_industry_expansion = yes
			ea_expansion_can_be_passed = yes
		}

		ai_will_do = {
			factor = 0
		}

		fire_only_once = no

		complete_effect = {
			propose_ea_resolution_expansion = yes
		}
	}
}