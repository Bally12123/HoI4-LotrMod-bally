generic_ballistics_guild = {
	icon = GFX_idea_generic_air_manufacturer_2

	allowed = {
		always = yes
	}

	equipment_type = {
		rocket_artillery_equipment
		artillery_equipment
		anti_air_equipment
		anti_tank_equipment
	}
	research_categories = {
		lotr_infantry_archery
		lotr_machines_ballista
		lotr_machines_windlance
	}
	
	tree_header_text = {
		text = "Weapons"
		x = 1
	}

	tree_header_text = {
		text = "Methodology"
		x = 6
	}

	tree_header_text = {
		text = "Standardization"
		x = 9
	}

	initial_trait = {
		name = "Ballistics Specialization"

		organization_modifier = {
			military_industrial_organization_research_bonus = 0.05
		}

		production_bonus = {
			production_efficiency_cap_factor = 0.05
		}

		equipment_bonus = {
			soft_attack = 0.03
		}
	}

	trait = {
		token = shortbow_specialization
		name = "Shortbow Specialization"

		# archers speed and supply consumption and other stuff		

		icon = GFX_generic_mio_trait_archer
		position = { x=0 y=0 }
	}

	trait = {
		token = reinforced_limbs
		name = "Reinforced Limbs"
		any_parent = { shortbow_specialization }

		# Add reliability and other stuff
		# more resource and production cost

		relative_position_id = shortbow_specialization

		icon = GFX_generic_mio_trait_icon_armor_value
		position = { x=0 y=1 }
	}

	trait = {
		token = key_ring_trigger
		name = "Key Ring Trigger"
		any_parent = { reinforced_limbs }

		relative_position_id = shortbow_specialization

		# more soft attack, more training time

		mutually_exclusive = { master_fletching }

		icon = GFX_generic_mio_keyring
		position = { x=0 y=2 }
	}

	trait = {
		token = agility_training
		name = "Agility Training"
		any_parent = { key_ring_trigger }

		relative_position_id = shortbow_specialization

		# add speed, lower combat width, increase training time

		icon = GFX_generic_mio_trait_icon_air_agility
		position = { x=0 y=4 }
	}

	trait = {
		token = longbow_specialization
		name = "Longbow Specialization"
		
		mutually_exclusive = { crossbow_specialization }

		# add SA and HA

		icon = GFX_generic_mio_trait_archer
		position = { x=1 y=0 }
	}

	trait = {
		token = silent_draw
		name = "Silent Draw"
		any_parent = { longbow_specialization }

		relative_position_id = longbow_specialization

		# increase org, decrease SA

		icon = GFX_generic_mio_trait_bow
		position = { x=0 y=1 }
	}

	trait = {
		token = master_fletching
		name = "Master Fletching"
		any_parent = { silent_draw }

		relative_position_id = longbow_specialization

		# increase piercing and HA

		mutually_exclusive = { key_ring_trigger }

		icon = GFX_generic_mio_trait_fletching
		position = { x=0 y=2 }
	}

	trait = {
		token = crossbow_specialization
		name = "Crossbow Specialization"
		
		mutually_exclusive = { longbow_specialization }

		# improve everything about crossbows
		# decrease training time

		icon = GFX_generic_mio_trait_crossbow_2
		position = { x=2 y=0 }
	}

	trait = {
		token = eagles_eye_construction
		name = "Eagle's Eye Construction"
		any_parent = { crossbow_specialization }

		relative_position_id = crossbow_specialization

		# increase SA, HA and weight

		icon = GFX_generic_mio_trait_scope
		position = { x=0 y=1 }
	}

	trait = {
		token = plaited_string
		name = "Plaited String"
		any_parent = { eagles_eye_construction master_fletching }

		relative_position_id = crossbow_specialization

		# increase reliability, and attack

		icon = GFX_generic_mio_trait_string
		position = { x=0 y=3 }
	}

	trait = {
		token = ballistic_methodology
		name = "Ballistic Methodology"

		# increase research bonus
		# Add a single-use research bonus to scriptorium

		icon = GFX_generic_mio_trait_blueprint
		position = { x=6 y=0 }
	}

	trait = {
		token = trajectory_estimation
		name = "Trajectory Estimation"

		any_parent = { ballistic_methodology }
		relative_position_id = ballistic_methodology

		# ballistas and air-lances: increase all attack

		icon = GFX_generic_mio_trait_icon_naval_range
		position = { x=0 y=1 }
	}

	trait = {
		token = weight_adjustment
		name = "Projectile Weight Adjustment"

		any_parent = { trajectory_estimation }
		relative_position_id = ballistic_methodology

		# decrease weight and supply consumption

		icon = GFX_generic_mio_trait_icon_weight
		position = { x=0 y=3 }
	}

	trait = {
		token = airborne_projectiles
		name = "Airborne Projectiles"

		any_parent = { weight_adjustment plaited_string }
		relative_position_id = ballistic_methodology

		# AA buff

		icon = GFX_generic_mio_trait_ballista
		position = { x=-2 y=4 }
	}

	trait = {
		token = airborne_projectiles
		name = "Airborne Projectiles"

		any_parent = { weight_adjustment plaited_string }
		relative_position_id = ballistic_methodology

		# ???

		icon = GFX_generic_mio_trait_ballista
		position = { x=-2 y=4 }
	}

	trait = {
		token = field_ballistics
		name = "Field Ballistics"

		any_parent = { trajectory_estimation eagles_eye_construction }
		relative_position_id = ballistic_methodology

		# Ballista buffs
		# TODO: split this up into soft-attack ballista???

		icon = GFX_generic_mio_trait_ballista
		position = { x=-2 y=2 }
	}

	trait = {
		token = production_standardization
		name = "Production Standardization"

		# more production speed

		icon = GFX_generic_mio_trait_sword
		position = { x=9 y=0 }
	}

	trait = {
		token = standardize_draw_weight
		name = "Standardize Draw-weight"
		
		any_parent = { production_standardization }
		any_parent = { trajectory_estimation }
		relative_position_id = production_standardization

		# more production speed gain

		icon = GFX_generic_mio_trait_icon_weight
		position = { x=0 y=2 }
	}

	trait = {
		token = standardize_draw_weight
		name = "Standardize Projectiles"
		
		any_parent = { standardize_draw_weight }
		any_parent = { weight_adjustment }
		relative_position_id = production_standardization

		# ???

		icon = GFX_generic_mio_trait_icon_weight
		position = { x=0 y=4 }
	}
}

