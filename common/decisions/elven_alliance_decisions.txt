elven_alliance_decisions_category = {

	starting_vote = {
		icon = GFX_decision_generic_naval
		cost = 150

        activation = {
            NOT = { has_global_flag = ea_vote_in_progress }
			NOT = { has_global_flag = ea_assembly_in_recess }
			NOT = { ea_resolution_queue_empty = yes }
        }
		available = {
            always = yes
        }
		visible = {
			always = yes
		}

		ai_will_do = {
			factor = 0
		}

		priority = 100

		fire_only_once = no
		days_mission_timeout = 0
		selectable_mission = no

		complete_effect = {
			elven_alliance_clear_votes = yes
			set_global_flag = ea_vote_in_progress
			activate_mission = vote_in_progress
		}
	}

	vote_in_progress = {
        icon = GFX_decision_generic_naval
		cost = 150

        activation = {
            #NOT = { has_global_flag = ea_vote_in_progress }
			#NOT = { has_global_flag = ea_assembly_in_recess }
			#NOT = { ea_resolution_queue_empty = yes }
			always = no
        }
		available = {
            always = no
        }
		visible = {
			always = no
		}

		ai_will_do = {
			factor = 0
		}

		priority = 100

		fire_only_once = no
		is_good = yes
		days_mission_timeout = 30
		selectable_mission = no

		timeout_effect = {
            # Count votes and pass resolution

			clr_global_flag = ea_vote_in_progress

			set_global_flag = ea_assembly_in_recess
			#activate_mission = assembly_in_recess

			elven_alliance_vote_effect = yes
        }

		cancel_trigger = {
			has_global_flag = ea_vote_vetoed
        }

		cancel_effect = {
			clr_country_flag = ea_vote_vetoed
		}
	}

	assembly_in_recess = {
        icon = GFX_decision_generic_naval
		cost = 150

		activation = {
            has_global_flag = ea_assembly_in_recess
        }
        available = {
            always = no
        }
		visible = {
			always = yes
		}

		ai_will_do = {
			factor = 0
		}

		priority = 100

		fire_only_once = no

		is_good = yes
		days_mission_timeout = 10
		selectable_mission = no

		timeout_effect = {
			clr_global_flag = ea_assembly_in_recess
        }

		cancel_trigger = {
            always = no
        }
	}

	# hegemony leader: VETO
	ea_veto_resolution = {
        icon = GFX_decision_generic_naval
		cost = 25

        available = {
            var:ea_hegemony_leader_scorer = { tag = ROOT }
        }
		visible = {
			has_global_flag = ea_vote_in_progress
			var:ea_hegemony_leader_scorer = { tag = ROOT }
			NOT = { has_global_flag = ea_vote_vetoed }
		}

		ai_will_do = {
			factor = 0
		}

		fire_only_once = no

		complete_effect = {
			set_global_flag = ea_vote_vetoed
		}
	}



	# Propose resolution: trade
	propose_ea_resolution_trade = {
        icon = GFX_decision_generic_naval
		cost = elven_alliance_proposal_cost?25

        available = {
            #NOT = { has_global_flag = ea_assembly_in_recess }
			always = yes
        }
		visible = {
			#NOT = { has_global_flag = ea_vote_in_progress }
			#ea_trade_unlocked = yes
			#ea_trade_can_be_passed = yes
			always = yes
		}

		ai_will_do = {
			factor = 0
		}

		fire_only_once = no

		complete_effect = {
			ea_trade_add_to_queue = yes
		}
	}



	# Propose resolution: industry
	propose_ea_resolution_industry = {
        icon = GFX_decision_generic_naval
		cost = elven_alliance_proposal_cost?25

        available = {
            NOT = { has_global_flag = ea_assembly_in_recess }
        }
		visible = {
			NOT = { has_global_flag = ea_vote_in_progress }
			ea_industry_unlocked = yes
			ea_industry_can_be_passed = yes
		}

		ai_will_do = {
			factor = 0
		}

		fire_only_once = no

		complete_effect = {
			ea_industry_add_to_queue = yes
		}
	}



	# Propose resolution: alliance
	propose_ea_resolution_alliance = {
        icon = GFX_decision_generic_naval
		cost = elven_alliance_proposal_cost?25

        available = {
            NOT = { has_global_flag = ea_assembly_in_recess }
        }
		visible = {
			NOT = { has_global_flag = ea_vote_in_progress }
			ea_alliance_unlocked = yes
			ea_alliance_can_be_passed = yes
		}

		ai_will_do = {
			factor = 0
		}

		fire_only_once = no

		complete_effect = {
			ea_alliance_add_to_queue = yes
		}
	}



	# Propose resolution: research
	propose_ea_resolution_research = {
        icon = GFX_decision_generic_naval
		cost = elven_alliance_proposal_cost?25

        available = {
            NOT = { has_global_flag = ea_assembly_in_recess }
        }
		visible = {
			NOT = { has_global_flag = ea_vote_in_progress }
			ea_research_unlocked = yes
			ea_research_can_be_passed = yes
		}

		ai_will_do = {
			factor = 0
		}

		fire_only_once = no

		complete_effect = {
			ea_research_add_to_queue = yes
		}
	}



	# Propose resolution: hegemony
	propose_ea_resolution_hegemony = {
        icon = GFX_decision_generic_naval
		cost = elven_alliance_proposal_cost?25

        available = {
            NOT = { has_global_flag = ea_assembly_in_recess }
        }
		visible = {
			NOT = { has_global_flag = ea_vote_in_progress }
			ea_hegemony_unlocked = yes
			ea_hegemony_can_be_passed = yes
		}

		ai_will_do = {
			factor = 0
		}

		fire_only_once = no

		complete_effect = {
			ea_hegemony_add_to_queue = yes
		}
	}



	# Propose resolution: expansion
	propose_ea_resolution_expansion = {
        icon = GFX_decision_generic_naval
		cost = elven_alliance_proposal_cost?25

        available = {
            NOT = { has_global_flag = ea_assembly_in_recess }
        }
		visible = {
			NOT = { has_global_flag = ea_vote_in_progress }
			ea_expansion_unlocked = yes
			ea_expansion_can_be_passed = yes
		}

		ai_will_do = {
			factor = 0
		}

		fire_only_once = no

		complete_effect = {
			ea_expansion_add_to_queue = yes
		}
	}



	# Propose resolution: union
	propose_ea_resolution_union = {
        icon = GFX_decision_generic_naval
		cost = elven_alliance_proposal_cost?25

        available = {
            NOT = { has_global_flag = ea_assembly_in_recess }
        }
		visible = {
			NOT = { has_global_flag = ea_vote_in_progress }
			ea_union_unlocked = yes
			ea_union_can_be_passed = yes
		}

		ai_will_do = {
			factor = 0
		}

		fire_only_once = no

		complete_effect = {
			ea_union_add_to_queue = yes
		}
	}



	# Propose resolution: martial
	propose_ea_resolution_martial = {
        icon = GFX_decision_generic_naval
		cost = elven_alliance_proposal_cost?25

        available = {
            NOT = { has_global_flag = ea_assembly_in_recess }
        }
		visible = {
			NOT = { has_global_flag = ea_vote_in_progress }
			ea_martial_unlocked = yes
			ea_martial_can_be_passed = yes
		}

		ai_will_do = {
			factor = 0
		}

		fire_only_once = no

		complete_effect = {
			ea_martial_add_to_queue = yes
		}
	}



	# Propose resolution: peace
	propose_ea_resolution_peace = {
        icon = GFX_decision_generic_naval
		cost = elven_alliance_proposal_cost?25

        available = {
            NOT = { has_global_flag = ea_assembly_in_recess }
        }
		visible = {
			NOT = { has_global_flag = ea_vote_in_progress }
			ea_peace_unlocked = yes
			ea_peace_can_be_passed = yes
		}

		ai_will_do = {
			factor = 0
		}

		fire_only_once = no

		complete_effect = {
			ea_peace_add_to_queue = yes
		}
	}
}